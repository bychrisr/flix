# Story 7.2: Admin Content Operations UI (Events, Lessons, Materials, Quizzes, Branding)

## Status
Review

## Executor Assignment
executor: "@dev"
quality_gate: "@architect"
quality_gate_tools: ["manual-review"]

## Story
**As a** admin,  
**I want** complete content management workflows in the UI,  
**so that** I can publish and operate events without direct API tooling.

## Acceptance Criteria
1. Admin UI supports event and lesson CRUD flows with validation feedback.
2. Materials and quiz management flows are fully available from admin screens.
3. Branding controls are available in admin flow and integrate with backend branding APIs.

## Tasks / Subtasks
- [x] Task 1 (AC: 1) Admin UI supports event and lesson CRUD flows with validation feedback.
  - [x] Implement technical changes required for AC 1
  - [x] Add validation/tests for AC 1
- [x] Task 2 (AC: 2) Materials and quiz management flows are fully available from admin screens.
  - [x] Implement technical changes required for AC 2
  - [x] Add validation/tests for AC 2
- [x] Task 3 (AC: 3) Branding controls are available in admin flow and integrate with backend branding APIs.
  - [x] Implement technical changes required for AC 3
  - [x] Add validation/tests for AC 3

## Dev Notes
### Previous Story Insights
- Use previous completed story notes when available.

### Data Models
- Use the domain entities from architecture shards when applicable to this story.
  [Source: docs/architecture/data-models.md#Data Models]

### API Specifications
- Follow REST contracts and endpoint boundaries from API specification shards.
  [Source: docs/architecture/api-specification.md#API Specification]

### File Locations
- Respect monorepo boundaries (`apps/web`, `apps/admin`, `services/api`, `packages/design-system`).
  [Source: docs/architecture/unified-project-structure.md#Unified Project Structure]

### Technical Constraints
- Keep implementation aligned with selected stack and architecture patterns.
  [Source: docs/architecture/tech-stack.md#Tech Stack]
  [Source: docs/architecture/high-level-architecture.md#High Level Architecture]

### Service Specifications
- Follow backend module organization and auth/security middleware patterns.
  [Source: docs/architecture/backend-architecture.md#Backend Architecture]
  [Source: docs/architecture/security-and-performance.md#Security and Performance]

- Story source: docs/prd/epic-7-frontend-delivery-web-and-admin-apps.md

## Testing
- Follow test pyramid and organization from architecture testing strategy.
  [Source: docs/architecture/testing-strategy.md#Testing Strategy]
- Add/update unit tests for new business logic.
- Add/update integration tests for modified API flows when applicable.
- Ensure critical journey impact is considered for E2E smoke coverage.

## ðŸ¤– CodeRabbit Integration

> **CodeRabbit Integration**: Disabled
>
> CodeRabbit CLI is not enabled in `core-config.yaml`.
> Quality validation will use manual review process only.
> To enable, set `coderabbit_integration.enabled: true` in core-config.yaml.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-02-12 | 1.0 | Story created from epic section with architecture context | @sm |
| 2026-02-12 | 1.1 | Added full admin content operations UI with event/lesson/material/quiz workflows and branding controls integrated to event visual APIs | @dev |

## Dev Agent Record
### Agent Model Used
GPT-5 Codex (CLI)

### Debug Log References
- No dedicated debug log file generated for this story.

### Completion Notes List
- Expanded admin dashboard into operations console with integrated CRUD flows for events and lessons.
- Added validation/error feedback rendering from backend responses across create/update/delete actions.
- Added materials management flow (list + upload metadata payload) bound to selected event/lesson.
- Added quiz management flow (create/load/update/delete by id) with question/options controls.
- Added branding controls (hero and visual style color fields) wired to event create/update backend payloads.
- Added authenticated API service layer with token-aware request helpers.

### File List
- apps/admin/src/pages/DashboardPage.jsx
- apps/admin/src/services/admin-api.js
- apps/admin/src/services/api.js
- apps/admin/src/services/api.test.js
- apps/admin/src/auth/AuthContext.jsx
- apps/admin/src/styles.css
- docs/stories/7.2.story.md

## QA Results
- PASS: `npm run test --workspace @flix/admin`
- PASS: `npm run build --workspace @flix/admin`
- PASS: `npm run test --workspace @flix/api`
