# Story 1.1: Monorepo Runtime Baseline

## Status
Draft

## Executor Assignment
executor: "@devops"
quality_gate: "@architect"
quality_gate_tools: ["coderabbit", "manual-architecture-review"]

## Story
**As a** development team,  
**I want** a runnable monorepo baseline with workspace-level scripts,  
**so that** web, admin, api, and design-system can evolve in parallel without setup drift.

## Acceptance Criteria
1. Root workspace scripts execute per package and report clear status.
2. Workspace boundaries map to `apps/web`, `apps/admin`, `services/api`, `packages/design-system`.
3. Basic package-level start/build/test placeholders are present and runnable.

## Tasks / Subtasks
- [ ] Task 1 (AC: 2) Validate and lock workspace boundaries
  - [ ] Confirm root `package.json` workspaces include `apps/*`, `packages/*`, `services/*`
  - [ ] Ensure each workspace has a dedicated `package.json` and minimal scripts (`dev`, `build`, `test`, `lint`, `typecheck`)
  - [ ] Verify no app/service package is outside defined boundaries
- [ ] Task 2 (AC: 1, 3) Implement runnable workspace command surface
  - [ ] Ensure root scripts run across workspaces with `--workspaces --if-present`
  - [ ] Ensure scoped scripts exist (`dev:web`, `dev:admin`, `dev:api`)
  - [ ] Validate command output is clear per workspace (success/failure visibility)
- [ ] Task 3 (AC: 2, 3) Add baseline structure/docs consistency
  - [ ] Ensure baseline folder structure exists for apps/services/packages
  - [ ] Document structure and command usage in root README
  - [ ] Align docs references with monorepo paths
- [ ] Task 4 (AC: 1, 3) Test and verification
  - [ ] Run `npm run dev --workspaces --if-present`
  - [ ] Run `npm run test --workspaces --if-present`
  - [ ] Capture validation notes for commands that are placeholders at this stage

## Dev Notes
### Previous Story Insights
- No previous story file found in `docs/stories/`. This is the first story in sequence.

### Data Models
- No specific data-model implementation needed for this story.

### API Specifications
- No API endpoint implementation required in this story.

### Component Specifications
- No UI component implementation required in this story.

### File Locations
- Root workspace config: `package.json`  
  [Source: docs/architecture/unified-project-structure.md#Unified Project Structure]
- App packages: `apps/web`, `apps/admin`  
  [Source: docs/architecture/unified-project-structure.md#Unified Project Structure]
- API package: `services/api`  
  [Source: docs/architecture/unified-project-structure.md#Unified Project Structure]
- Shared UI package: `packages/design-system`  
  [Source: docs/architecture/unified-project-structure.md#Unified Project Structure]

### Testing Requirements
- Test organization and pyramid expectations apply even for baseline setup: unit/integration-first with later E2E smoke.
  [Source: docs/architecture/testing-strategy.md#Testing Strategy]

### Technical Constraints
- Build tool for orchestration: npm workspaces.
  [Source: docs/architecture/tech-stack.md#Tech Stack]
- Project is monorepo by architectural decision.
  [Source: docs/architecture/high-level-architecture.md#Repository Structure]
- Note: no coding standards shard file currently exists (`docs/architecture/coding-standards.md` or fallback PT-BR variants), so this story uses existing repository conventions.

## Testing
- Execute workspace command checks from repository root:
  - `npm run dev --workspaces --if-present`
  - `npm run test --workspaces --if-present`
- Validate each workspace command returns successfully (or explicit placeholder output with exit code 0).
- Ensure no workspace is omitted from command execution.

## ðŸ¤– CodeRabbit Integration

> **CodeRabbit Integration**: Disabled
>
> CodeRabbit CLI is not enabled in `core-config.yaml`.
> Quality validation will use manual review process only.
> To enable, set `coderabbit_integration.enabled: true` in core-config.yaml.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-02-11 | 1.0 | Story created from Epic 1.1 with architecture context | @sm |

## Dev Agent Record
### Agent Model Used
_To be populated during implementation_

### Debug Log References
_To be populated during implementation_

### Completion Notes List
_To be populated during implementation_

### File List
_To be populated during implementation_

## QA Results
_To be populated after implementation_
